"use strict";(self.webpackChunkcassandre_trading_bot_website=self.webpackChunkcassandre_trading_bot_website||[]).push([[569],{288:(a,t,n)=>{n.r(t),n.d(t,{data:()=>e});const e={key:"v-abeef714",path:"/learn/position-management.html",title:"Position management",lang:"en-US",frontmatter:{lang:"en-US",title:"Position management",description:"Learn how to use Cassandre positions to manage your trades easily"},excerpt:"",headers:[{level:2,title:"Long position",slug:"long-position",children:[]},{level:2,title:"Short position",slug:"short-position",children:[]},{level:2,title:"Gains",slug:"gains",children:[]}],filePathRelative:"learn/position-management.md"}},7895:(a,t,n)=>{n.r(t),n.d(t,{default:()=>ba});var e=n(6252);const s=(0,e._)("h1",{id:"position-management",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#position-management","aria-hidden":"true"},"#"),(0,e.Uk)(" Position management")],-1),o=(0,e._)("p",null,"Cassandre provides a simple way to manage your positions automatically.",-1),i=(0,e._)("h2",{id:"long-position",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#long-position","aria-hidden":"true"},"#"),(0,e.Uk)(" Long position")],-1),r=(0,e.Uk)("In your strategy, you can create a long position with the "),c={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/strategy/GenericCassandreStrategy.html#createLongPosition%28tech.cassandre.trading.bot.dto.util.CurrencyPairDTO,java.math.BigDecimal,tech.cassandre.trading.bot.dto.position.PositionRulesDTO%29",target:"_blank",rel:"noopener noreferrer"},l=(0,e.Uk)("createLongPosition()"),p=(0,e.Uk)(" method."),u=(0,e._)("p",null,"It has three parameters :",-1),d=(0,e._)("ul",null,[(0,e._)("li",null,"The currency pair, for example, ETH/USDT."),(0,e._)("li",null,"The amount, for example, 0.5 ETH."),(0,e._)("li",null,"The rules, for example, 100% stop gain and 50% stop loss.")],-1),h=(0,e.Uk)("The first step is to create the rules you want to apply to the position thanks to the "),g={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/dto/position/PositionRulesDTO.html",target:"_blank",rel:"noopener noreferrer"},k=(0,e.Uk)("PositionRulesDTO"),b=(0,e.Uk)(" class, for example:"),m=(0,e.uE)('<div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">PositionRulesDTO</span> rules <span class="token operator">=</span> <span class="token class-name">PositionRulesDTO</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n                <span class="token punctuation">.</span><span class="token function">stopGainPercentage</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>\n                <span class="token punctuation">.</span><span class="token function">stopLossPercentage</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>\n                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Then, you can create the position with that rule:</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token function">createLongPosition</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CurrencyPairDTO</span><span class="token punctuation">(</span>ETH<span class="token punctuation">,</span> BTC<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;0.5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rules<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div>',3),w=(0,e.Uk)("At this moment, Cassandre will create a buy order of 0.5 ETH (1 ETH costs 1500 USDT), and this will cost us 750 USDT. The position status will be "),f={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/dto/position/PositionStatusDTO.html#OPENING",target:"_blank",rel:"noopener noreferrer"},_=(0,e.Uk)("OPENING"),v=(0,e.Uk)(", and when all the corresponding trades have arrived, the status will move to "),T={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/dto/position/PositionStatusDTO.html#OPENED",target:"_blank",rel:"noopener noreferrer"},y=(0,e.Uk)("OPENED"),U=(0,e.Uk)("."),D={class:"custom-container tip"},P=(0,e._)("p",{class:"custom-container-title"},"TIP",-1),O=(0,e.Uk)("Note: if you want to check if you have enough funds available (at least 750 USDT in our case) before creating the position, you can use the "),C={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/strategy/GenericCassandreStrategy.html#canBuy%28tech.cassandre.trading.bot.dto.user.AccountDTO,tech.cassandre.trading.bot.dto.util.CurrencyPairDTO,java.math.BigDecimal%29",target:"_blank",rel:"noopener noreferrer"},S=(0,e.Uk)("canBuy()"),j=(0,e.Uk)(" method."),E=(0,e._)("p",null,"From now on, for every ticker received, Cassandre will automatically calculate, with the new price (from the ticker), if closing the position at that price would trigger one of our two rules (100% stop gain and 50% stop loss).",-1),G=(0,e.Uk)('For example, if we receive a new price of 3000 USDT for 1 ETH, Cassandre will calculate that if we sell our position right now (meaning "closing the position"), we will get 1 500 USDT, a 100% gain. As our rule is triggered, Cassandre will automatically create a selling order of our 0.5 ETH. The position status will move to '),L={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/dto/position/PositionStatusDTO.html#CLOSING",target:"_blank",rel:"noopener noreferrer"},H=(0,e.Uk)("CLOSING"),W=(0,e.Uk)(", and when all the corresponding trades have arrived, the status will move to "),x={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/dto/position/PositionStatusDTO.html#CLOSED",target:"_blank",rel:"noopener noreferrer"},B=(0,e.Uk)("CLOSED"),N=(0,e.Uk)("."),I=(0,e.Uk)("You can then know your exact gain on this position by calling the "),R={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/dto/position/PositionDTO.html#getGain%28%29",target:"_blank",rel:"noopener noreferrer"},q=(0,e.Uk)("getGain()"),A=(0,e.Uk)(" method."),F=(0,e._)("h2",{id:"short-position",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#short-position","aria-hidden":"true"},"#"),(0,e.Uk)(" Short position")],-1),Y=(0,e.Uk)("A "),Z={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/strategy/GenericCassandreStrategy.html#createShortPosition(tech.cassandre.trading.bot.dto.util.CurrencyPairDTO,java.math.BigDecimal,tech.cassandre.trading.bot.dto.position.PositionRulesDTO)",target:"_blank",rel:"noopener noreferrer"},z=(0,e.Uk)("short position"),J=(0,e.Uk)(" works the opposite way. With a short position, you bet that the price will go down."),K=(0,e.uE)('<p>Let&#39;s say you create a short position on 1 ETH with this command:</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token function">createShortPosition</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CurrencyPairDTO</span><span class="token punctuation">(</span>ETH<span class="token punctuation">,</span> BTC<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rules<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Cassandre will sell 1 ETH and get 1 500 USDT and wait until the price is down enough to buy 2 ETH with 1 500 USDT.</p>',3),M={class:"custom-container tip"},Q=(0,e._)("p",{class:"custom-container-title"},"TIP",-1),V=(0,e.Uk)("Note: if you want to check if you have enough funds available (at 1 ETH in our case) before creating the position, you can use the "),X={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/strategy/GenericCassandreStrategy.html#canSell%28tech.cassandre.trading.bot.dto.util.CurrencyDTO,java.math.BigDecimal%29",target:"_blank",rel:"noopener noreferrer"},$=(0,e.Uk)("canSell()"),aa=(0,e.Uk)(" method."),ta=(0,e._)("h2",{id:"gains",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#gains","aria-hidden":"true"},"#"),(0,e.Uk)(" Gains")],-1),na=(0,e._)("p",null,"On Positions, you can get the:",-1),ea=(0,e.Uk)("The lowest calculated gain with "),sa={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/dto/position/PositionDTO.html#getLowestCalculatedGain()",target:"_blank",rel:"noopener noreferrer"},oa=(0,e.Uk)("getLowestCalculatedGain()"),ia=(0,e.Uk)("The highest calculated gain with "),ra={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/dto/position/PositionDTO.html#getHighestCalculatedGain()",target:"_blank",rel:"noopener noreferrer"},ca=(0,e.Uk)("getHighestCalculatedGain()"),la=(0,e.Uk)("The latest calculated gain with "),pa={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/dto/position/PositionDTO.html#getLatestCalculatedGain()",target:"_blank",rel:"noopener noreferrer"},ua=(0,e.Uk)("getLatestCalculatedGain()"),da=(0,e.Uk)("On a closed position, you can get the gain & fees with "),ha={href:"https://www.javadoc.io/doc/tech.cassandre.trading.bot/cassandre-trading-bot-spring-boot-autoconfigure/latest/tech/cassandre/trading/bot/dto/position/PositionDTO.html#getGain()",target:"_blank",rel:"noopener noreferrer"},ga=(0,e.Uk)("getGain()"),ka={},ba=(0,n(3744).Z)(ka,[["render",function(a,t){const n=(0,e.up)("OutboundLink");return(0,e.wg)(),(0,e.iD)(e.HY,null,[s,o,i,(0,e._)("p",null,[r,(0,e._)("a",c,[l,(0,e.Wm)(n)]),p]),u,d,(0,e._)("p",null,[h,(0,e._)("a",g,[k,(0,e.Wm)(n)]),b]),m,(0,e._)("p",null,[w,(0,e._)("a",f,[_,(0,e.Wm)(n)]),v,(0,e._)("a",T,[y,(0,e.Wm)(n)]),U]),(0,e._)("div",D,[P,(0,e._)("p",null,[O,(0,e._)("a",C,[S,(0,e.Wm)(n)]),j])]),E,(0,e._)("p",null,[G,(0,e._)("a",L,[H,(0,e.Wm)(n)]),W,(0,e._)("a",x,[B,(0,e.Wm)(n)]),N]),(0,e._)("p",null,[I,(0,e._)("a",R,[q,(0,e.Wm)(n)]),A]),F,(0,e._)("p",null,[Y,(0,e._)("a",Z,[z,(0,e.Wm)(n)]),J]),K,(0,e._)("div",M,[Q,(0,e._)("p",null,[V,(0,e._)("a",X,[$,(0,e.Wm)(n)]),aa])]),ta,na,(0,e._)("ul",null,[(0,e._)("li",null,[ea,(0,e._)("a",sa,[oa,(0,e.Wm)(n)])]),(0,e._)("li",null,[ia,(0,e._)("a",ra,[ca,(0,e.Wm)(n)])]),(0,e._)("li",null,[la,(0,e._)("a",pa,[ua,(0,e.Wm)(n)])])]),(0,e._)("p",null,[da,(0,e._)("a",ha,[ga,(0,e.Wm)(n)])])],64)}]])},3744:(a,t)=>{t.Z=(a,t)=>{const n=a.__vccOpts||a;for(const[a,e]of t)n[a]=e;return n}}}]);